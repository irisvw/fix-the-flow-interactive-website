const artObjectsList = {
  "data": [
    {
      "image": "assets/pottery1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "space",
      "objectNumber": null,
      "title": "Space",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 27,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/islamic1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "art",
      "objectNumber": null,
      "title": "Art",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 28,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/tapestry1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "marie-bonaparte-s-tiara",
      "objectNumber": null,
      "title": "Marie Bonaparte’s Tiara",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 1,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/glass1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "sample-of-iraqi-soil-excavation-5-layers-of-death",
      "objectNumber": null,
      "title": "Sample of Iraqi Soil Excavation = 5 Layers of Death",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 2,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/pottery1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "architectural-wall-decoration",
      "objectNumber": null,
      "title": "Architectural Wall Decoration",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 3,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/islamic-2.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "composition",
      "objectNumber": null,
      "title": "Composition",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 4,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/tapestry2.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "bowl",
      "objectNumber": null,
      "title": "Bowl",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 5,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/glass2.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "ayuba-suleiman-diallo-job-ben-solomon",
      "objectNumber": null,
      "title": "Ayuba Suleiman Diallo, Job ben Solomon",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 7,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/pottery1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "portrait-of-mrs-easter-menasha",
      "objectNumber": null,
      "title": "Portrait of Mrs. Easter Menasha",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 8,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "space",
      "objectNumber": null,
      "title": "Space",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 27,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-2.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "art",
      "objectNumber": null,
      "title": "Art",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 28,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/unsplash-3.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "marie-bonaparte-s-tiara",
      "objectNumber": null,
      "title": "Marie Bonaparte’s Tiara",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 1,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/unsplash-4.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "sample-of-iraqi-soil-excavation-5-layers-of-death",
      "objectNumber": null,
      "title": "Sample of Iraqi Soil Excavation = 5 Layers of Death",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 2,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/unsplash-5.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "architectural-wall-decoration",
      "objectNumber": null,
      "title": "Architectural Wall Decoration",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 3,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-6.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "composition",
      "objectNumber": null,
      "title": "Composition",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 4,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/unsplash-7.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "bowl",
      "objectNumber": null,
      "title": "Bowl",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 5,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/unsplash-8.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "ayuba-suleiman-diallo-job-ben-solomon",
      "objectNumber": null,
      "title": "Ayuba Suleiman Diallo, Job ben Solomon",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 7,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/unsplash-9.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "portrait-of-mrs-easter-menasha",
      "objectNumber": null,
      "title": "Portrait of Mrs. Easter Menasha",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 8,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-1.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "space",
      "objectNumber": null,
      "title": "Space",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 27,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-2.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "art",
      "objectNumber": null,
      "title": "Art",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 28,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/unsplash-3.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "marie-bonaparte-s-tiara",
      "objectNumber": null,
      "title": "Marie Bonaparte’s Tiara",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 1,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/unsplash-4.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "sample-of-iraqi-soil-excavation-5-layers-of-death",
      "objectNumber": null,
      "title": "Sample of Iraqi Soil Excavation = 5 Layers of Death",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 2,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/unsplash-5.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "architectural-wall-decoration",
      "objectNumber": null,
      "title": "Architectural Wall Decoration",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 3,
      "materials": [],
      "techniques": "Pottery"
    },
    {
      "image": "assets/unsplash-6.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "composition",
      "objectNumber": null,
      "title": "Composition",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 4,
      "materials": [],
      "techniques": "Islamic Art"
    },
    {
      "image": "assets/unsplash-7.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "bowl",
      "objectNumber": null,
      "title": "Bowl",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 5,
      "materials": [],
      "techniques": "Tapestry"
    },
    {
      "image": "assets/unsplash-8.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "ayuba-suleiman-diallo-job-ben-solomon",
      "objectNumber": null,
      "title": "Ayuba Suleiman Diallo, Job ben Solomon",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 7,
      "materials": [],
      "techniques": "Glass"
    },
    {
      "image": "assets/unsplash-9.jpg",
      "displayDate": null,
      "productionCulturalGroup": null,
      "site": null,
      "recordType": null,
      "objectName": null,
      "slug": "portrait-of-mrs-easter-menasha",
      "objectNumber": null,
      "title": "Portrait of Mrs. Easter Menasha",
      "location": null,
      "styles": null,
      "artist": null,
      "museum": null,
      "sort": null,
      "id": 8,
      "materials": [],
      "techniques": "Pottery"
    }
  ]
}

// Get the buttons used to navigate back and forth.
let buttonNext = document.querySelector(".button-next");
let buttonPrevious = document.querySelector(".button-previous");

let slidePrevious = document.querySelector("#slide-0");
let slideCurrent = document.querySelector("#slide-1");
let slideNext = document.querySelector("#slide-2");

// Generate a shuffled list of techniques.
let techniques = generateList();
let techniqueLists = {};
let currentItem = 0;

artObjectsList.data.forEach(artObject => {
  // for each art object, get the technique used
  const technique = artObject.techniques;
  // if techniqueLists doesn't contain that technique yet;
  if (!techniqueLists[technique]) {
    // make a new array for that technique and store it in techniqueLists.
    techniqueLists[technique] = [];
  }
  // then add the artObject to its corresponding list.
  techniqueLists[technique].push(artObject);
});

buttonNext.addEventListener("click", function () {
  // the current slide becomes the previous slide (why does this work? because i remove it again in line 554 lmao)
  slidePrevious = slideCurrent;
  // if a next slide exists, make it the currentslide
  if (slideCurrent.nextElementSibling) { slideCurrent = slideCurrent.nextElementSibling; }

  // slideNext = generateImage();
  updateNext();
})

buttonPrevious.addEventListener("click", function () {
  slideNext = slideCurrent;
  if (slideCurrent.previousElementSibling) { 
    slideCurrent = slideCurrent.previousElementSibling; 
  } else {

  }

  // slidePrevious = generateImage();
  updatePrevious();
})

function updateNext() {
  // console.log(slideCurrent);
  currentItem += 1;
  slidePrevious.classList.add("previous-item");

  if (slideCurrent.classList.contains("previous-item")) { slideCurrent.classList.remove("previous-item"); }
  if (slideCurrent.classList.contains("next-item")) { slideCurrent.classList.remove("next-item"); }
}

function updatePrevious() {
  currentItem -= 1;
  if (currentItem == -1) { currentItem = list.length };
  slideNext.classList.add("next-item");

  if (slideCurrent.classList.contains("previous-item")) { slideCurrent.classList.remove("previous-item"); }
  if (slideCurrent.classList.contains("next-item")) { slideCurrent.classList.remove("next-item"); }
}

function generateList() {
  let list = [];
  // For each element in the artObjectsList, add the technique used to list, but only if it is not included in list yet.
  artObjectsList.data.forEach(element => { if (!list.includes(element.techniques)) { list.push(element.techniques) } });
  // Shuffle the list, so any technique has a chance to appear first.
  return list.sort((a, b) => 0.5 - Math.random());
}

// function pickImage(category) {
//   // while picture isnt the category
//   // pick a random picture from the list
//   let artObject;
//   while (artObject.techniques != list[currentItem]) {
//     artObject = artObjectsList[Math.floor(Math.random() * artObjectsList.length)];
//   }
//   return artObject;
// }

function generateImage(link, source, altText, category) {
  let listItem = document.createElement('li');
  let anchor = document.createElement('a');
  let figure = document.createElement('figure');
  let caption = document.createElement('figcaption');
  let image = document.createElement('img');

  anchor.setAttribute('href', link);
  anchor.setAttribute('aria-label', "details");

  image.setAttribute('width', '250');
  image.setAttribute('src', source);
  image.setAttribute('alt', altText);
  image.setAttribute('data-category', category);

  figure.appendChild(image);
  figure.appendChild(caption);
  anchor.appendChild(figure);
  listItem.appendChild(anchor);
  return listItem;
}

// console.log(list);

// There are four categories: tapestry, islamic art, pottery & glass.
// There will be one slide for each category: four slides total.
// When going to the next slide, a random picture from that category will be picked.

// On page load: shuffle all the categories into an array.
// Pick a random picture from the first category.
// On 'next', pick a random picture from the second category.
// On 'previous', pick a random picture from the last category.

// Add an event listener to each of the filter buttons.
// On click, load the first three items of the corresponding array.